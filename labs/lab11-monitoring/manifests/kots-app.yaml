apiVersion: kots.io/v1beta1
kind: Application
metadata:
  name: prometheus-alerting
spec:
  title: Prometheus Alerting Example
  statusInformers:
    - deployment/flaky-app
    - '{{repl if (ConfigOptionEquals "smtp_run_mailcatcher" "1")}}monitoring/deployment/mailcatcher{{repl end}}'
    - '{{repl if (ConfigOptionEquals "webhook_run_requestbin" "1")}}monitoring/deployment/requestbin{{repl end}}'
  additionalNamespaces:
    - monitoring
  ports:
    - serviceName: "flaky-app"
      servicePort: 3000
      localPort: 3000
      applicationUrl: "http://flaky-app"
    - serviceName: "requestbin"
      servicePort: 8000
      localPort: 8000
      applicationUrl: "http://requestbin/alerts?inspect"
    - serviceName: "mailcatcher"
      servicePort: 1080
      localPort: 1080
      applicationUrl: "http://mailcatcher"
  icon: data:image/png;base64,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
